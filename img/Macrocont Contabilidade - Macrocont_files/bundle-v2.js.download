let wppSettingsV2={},formConfigurationV2={};function initWhatsappPluginV2(e){function t(e,t,o){let n=new Date,i="";o&&(n.setTime(n.getTime()+24*o*60*60*1e3),i=";expires="+n.toUTCString()),document.cookie=e+"="+encodeURIComponent(t)+i+";path=/"}function o(e){var t=e+"=",e=document.cookie;if(0<e.length){cookiesSlices=e.split(";");for(var o=0;o<cookiesSlices.length;o++){for(var n=cookiesSlices[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}}return null}function n(e){t(e," ",-1e3)}function i(){r("WppPlugin","pluginOpened","Plugin Aberto")}function a(){r("WppPlugin","pluginClosed","Plugin Fechado")}function r(e,t,o){"function"==typeof gtag?gtag("event",t,{event_category:e,event_label:o}):"function"==typeof ga&&ga("send",{hitType:"event",eventCategory:e,eventAction:t,eventLabel:o})}function s(e){var e=e.toString().split(" "),t=e[0].slice(0,2),o=e[0].slice(3,5);return e[0].slice(6,10)+"-"+o+"-"+t+" "+e[1]}class l{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.data={},this.storageName=e,this.init=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(this.storageName=e),this.loadFromStorage()},this.loadFromStorage=function(){var e=o(this.storageName);this.data=e?JSON.parse(e):{}},this.saveToStorage=function(){t(this.storageName,JSON.stringify(this.data),1)},this.clearStorage=function(){this.data={},this.saveToStorage()},this.eraseStorage=function(){n(this.storageName)},this.hasKey=function(e){return this.data.hasOwnProperty(e)},this.setItem=function(e,t){this.data[e]=t,this.saveToStorage()},this.getItem=function(e){return this.hasKey(e)?this.data[e]:null},this.removeItem=function(e){this.hasKey(e)&&delete this.data[e],this.saveToStorage()}}}var c,u,d,f=window,m=document,p=["campaignid","adgroupid","feeditemid","targetid","loc_interest_ms","loc_physical_ms","matchtype","network","device","devicemodel","gclid","creative","keyword","placement","target","param1","param2","random","adposition","adtype","merchant_id","product_channel","product_id","product_country","product_language","product_partition_id","store_code","sourceid","hotelcenter_id","hotel_id","hotel_partition_id","hotel_adtype","utm_source","utm_campaign","utm_medium","utm_content","utm_term","fbclid"],g={init:function(){if(this.loadCSS(),0<(wppSettingsV2.phones||[]).length){""!=wppSettingsV2.conversion_id&&null!=wppSettingsV2.conversion_id&&this.loadGtag(wppSettingsV2.conversion_id),""!=wppSettingsV2.position&&this.createWppButton(),this.processPageLinks(),this.activateCustom(),f.addEventListener("click",this.windowOnClick),(d=new l).init("wpp_storage");var e=new Date,t=(null===(t=d.getItem("navigation_started_at"))?(d.setItem("navigation_started_at",e),d.setItem("nav_started_at",s(e.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))),d.setItem("start_url",f.location.href)):(t=e-new Date(t),7200<parseInt(t/1e3)&&(d.clearStorage(),d.setItem("navigation_started_at",e),d.setItem("nav_started_at",s(e.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))),d.setItem("start_url",f.location.href))),document.referrer),o=document.createElement("a");o.href=t,-1!=window.location.hostname.indexOf(o.hostname)&&null!=d.getItem("referrer")||(d.clearStorage(),d.setItem("navigation_started_at",e),d.setItem("nav_started_at",s(e.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))),d.setItem("referrer",t),d.setItem("start_url",f.location.href));for(var n,i=this.getURLQueryStringParams(),a=0;a<p.length;a++)i.hasOwnProperty(p[a])&&(n=i[p[a]],d.setItem(p[a],"undefined"!=n?n:""))}},sendPostMessage:function(e,t,o){let n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-type","application/json"),n.setRequestHeader("Accept","application/json"),n.send(JSON.stringify(t)),n.onreadystatechange=function(){4===n.readyState&&o()}},processPageLinks:function(){for(let e=m.getElementsByTagName("a"),t=0;t<e.length;t++){var o,n=e[t];n.hasAttribute("data-wpp-ignore")||null!=(o=n.getAttribute("href"))&&(-1<o.indexOf("api.whatsapp")||-1<o.indexOf("web.whatsapp")||-1<o.indexOf("wa.me"))&&((o=n.cloneNode(!0)).addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),g.openModal()}),n.parentNode.replaceChild(o,n))}},activateCustom:function(){var e,t;null!=wppSettingsV2.activate_button_selector&&""!=wppSettingsV2.activate_button_selector&&(wppSettingsV2.activate_button_selector.includes(";")?wppSettingsV2.activate_button_selector.split(";").forEach(function(e){var t;null!=e&&""!=e&&null!=(e=m.querySelector(e.trim()))&&((t=e.cloneNode(!0)).addEventListener("click",function(e){e.preventDefault(),g.openModal()}),e.parentNode.replaceChild(t,e))}):null!=(e=m.querySelector(wppSettingsV2.activate_button_selector.trim()))&&((t=e.cloneNode(!0)).addEventListener("click",function(e){e.preventDefault(),g.toggleModal()}),e.parentNode.replaceChild(t,e)))},getURLQueryStringParams:function(){var t={},e=f.location.href;return-1!==e.search(/[?]/)&&1<(e=e.split("?")).length&&e[1].split("&").forEach(function(e){e=e.split("=");t[e[0]]=decodeURIComponent(e[1])}),t},loadCSS:function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","https://cdn.expad.com.br/style.css"),document.head.appendChild(e)},isGtagFileLoaded:function(e){for(var t=m.getElementsByTagName("script"),o=0;o<t.length;o++)if(t[o].getAttribute("src")==e)return!0;return!1},initGtagConfig:function(e){f.dataLayer=f.dataLayer||[],f.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config","AW-".concat(e))},loadGtag:function(e){var t,o="https://www.googletagmanager.com/gtag/js?id=AW-".concat(e);this.isGtagFileLoaded(o)||((t=m.createElement("script")).type="text/javascript",t.async="async",t.src=o,m.head.appendChild(t),this.initGtagConfig(e))},createWppButton:function(){switch((u=m.createElement("a")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" fill="#FFFFFF"></path></svg>',u.className="whatsapp-open",u.id="expad-whatsapp-button",u.setAttribute("data-open",!1),u.addEventListener("click",this.openModal),wppSettingsV2.position){case"bottom_left":u.style.bottom=wppSettingsV2.vertical_space,u.style.left=wppSettingsV2.horizontal_space;break;case"bottom_right":u.style.bottom=wppSettingsV2.vertical_space,u.style.right=wppSettingsV2.horizontal_space;break;case"top_left":u.style.top=wppSettingsV2.vertical_space,u.style.left=wppSettingsV2.horizontal_space;break;case"top_right":u.style.top=wppSettingsV2.vertical_space,u.style.right=wppSettingsV2.horizontal_space}m.body.appendChild(u),r("WppPlugin","pluginRendered","Plugin Renderizado")},addComponent:function(e,t,o,n,i={}){e=m.createElement(e);return e.className=t,o.appendChild(e),n&&(e.innerHTML=n),i.id&&(e.id=i.id),i.name&&e.setAttribute("name",i.name),i.type&&e.setAttribute("type",i.type),e},toggleModal:function(){"false"==(u.getAttribute("data-open")||"false")?(u.setAttribute("data-open","true"),e.show()):(u.setAttribute("data-open","false"),e.hide()),e.iframe.contentWindow.postMessage({eventType:"resize"},"https://whatsapp-embedded.expad.com.br")},openModal:function(){u.setAttribute("data-open","true"),e.show(),e.iframe.contentWindow.postMessage({eventType:"resize"},"https://whatsapp-embedded.expad.com.br")},windowOnClick:function(e){e.target===c&&(c.classList.toggle("show-modal"),u.classList.toggle("hide-wpp-element"),(-1<(" "+c.className+" ").indexOf(" show-modal ")?i:a)())},gtag_report_conversion:function(e,t,o){return"undefined"!=typeof gtag&&gtag("event","conversion",{send_to:"AW-"+t+"/"+o}),!1}};return g.init(),{p:r,i:i,r:a,sendPostMessage:g.sendPostMessage,v:d,s:s,gtag_report_conversion:g.gtag_report_conversion,queryParams:p}}function initFormPluginV2(){function t(e,t,o){var n=new Date,i="";o&&(n.setTime(n.getTime()+24*o*60*60*1e3),i=";expires="+n.toUTCString()),document.cookie=e+"="+encodeURIComponent(t)+i+";path=/"}var e=["campaignid","adgroupid","feeditemid","targetid","loc_interest_ms","loc_physical_ms","matchtype","network","device","devicemodel","gclid","creative","keyword","placement","target","param1","param2","random","adposition","adtype","merchant_id","product_channel","product_id","product_country","product_language","product_partition_id","store_code","sourceid","hotelcenter_id","hotel_id","hotel_partition_id","hotel_adtype","utm_source","utm_campaign","utm_medium","utm_content","utm_term","fbclid"],A=new function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.data={},this.storageName=e,this.init=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(this.storageName=e),this.loadFromStorage()},this.loadFromStorage=function(){var e=function(e){var t=e+"=";if(0<(e=document.cookie).length){cookiesSlices=e.split(";");for(var o=0;o<cookiesSlices.length;o++){for(var n=cookiesSlices[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}}return null}(this.storageName);this.data=e?JSON.parse(e):{}},this.saveToStorage=function(){t(this.storageName,JSON.stringify(this.data),1)},this.clearStorage=function(){this.data={},this.saveToStorage()},this.eraseStorage=function(){t(this.storageName," ",-1e3)},this.hasKey=function(e){return this.data.hasOwnProperty(e)},this.setItem=function(e,t){this.data[e]=t,this.saveToStorage()},this.getItem=function(e){return this.hasKey(e)?this.data[e]:null},this.removeItem=function(e){this.hasKey(e)&&delete this.data[e],this.saveToStorage()}},P=window,o=document;function T(e,t){return e.hasAttribute(t)?e.getAttribute(t):null}function x(e){var e=e.toString().split(" "),t=e[0].slice(0,2),o=e[0].slice(3,5);return e[0].slice(6,10)+"-"+o+"-"+t+" "+e[1]}function n(t,e){for(var o=[],n=0;n<this.length;n++){var i=T(this[n],"name"),a=T(this[n],"id"),r=T(this[n],"class"),s=[];if(null!=this[n].labels)for(var l=0;l<this[n].labels.length;l++)s.push(this[n].labels[l].textContent);switch(this[n].nodeName){case"INPUT":var c=T(this[n],"type");if(null!=c)switch(c.toLowerCase()){case"text":case"email":case"date":case"datetime-local":case"month":case"number":case"range":case"tel":case"time":case"url":case"week":case"search":var u={value:this[n].value,id:a,class:r,type:c.toLowerCase(),labels:s,nodeType:"input",required:this[n].required};null!=i&&""!=i&&"undefined"!=i?o[u.name=i]=u:(u.name="input"+n,o["input"+n]=u);break;case"radio":case"checkbox":u={id:a,class:r,type:c.toLowerCase(),labels:s,value:this[n].value,checked:this[n].checked,nodeType:"input",required:this[n].required},null!=i&&""!=i&&"undefined"!=i?void 0===o[u.name=i]?(o[i]=[u],o[i]={type:c.toLowerCase(),nodeType:"input",name:i,options:[u]}):(o[i].length,o[i].options.push(u)):(u.name="input"+n,o["input"+n]=u)}break;case"SELECT":var d=[],f=this[n].getElementsByTagName("option");if(0<f.length)for(var m=0;m<f.length;m++)f[m].selected&&d.push({value:f[m].value,text:f[m].text,selected:f[m].selected});u={id:a,class:r,options:d,labels:s,type:"select",nodeType:"select",required:this[n].required},null!=i&&""!=i&&"undefined"!=i?o[u.name=i]=u:(u.name="input"+n,o["input"+n]=u);break;case"TEXTAREA":u={value:this[n].value,id:a,class:r,labels:s,type:"textarea",nodeType:"textarea",required:this[n].required},null!=i&&""!=i&&"undefined"!=i?o[u.name=i]=u:(u.name="input"+n,o["input"+n]=u)}}console.log(o);{for(var p=o,g,h,v=[],_=0,y=Object.keys(p),w=0;w<y.length;w++)switch(p[y[w]].type){case"text":case"email":case"date":case"datetime-local":case"month":case"number":case"range":case"tel":case"time":case"url":case"week":case"search":case"textarea":!p[y[w]].required||""!=p[y[w]].value&&null!=p[y[w]].value||_++;var b="",S="",C=p[y[w]].type.toLowerCase(),b=1==p[y[w]].labels.length?p[y[w]].labels[0]:1<p[y[w]].labels.length?p[y[w]].labels.join("_"):p[y[w]].name,S=p[y[w]].value;v.push({label:b||p[y[w]].name,value:S,type:C});break;case"radio":case"checkbox":b="",S=[];var C=p[y[w]].type.toLowerCase(),V=0,E=!1;if(p[y[w]].hasOwnProperty("options")){for(var I=0;I<p[y[w]].options.length;I++)b=1==p[y[w]].options[I].labels.length?p[y[w]].options[I].labels[0]:1<p[y[w]].options[I].labels.length?p[y[w]].options[I].labels.join("_"):p[y[w]].options[I].name,S.push({label:b||p[y[w]].options[I].name,value:p[y[w]].options[I].value,checked:p[y[w]].options[I].checked}),p[y[w]].options[I].checked&&V++,p[y[w]].options[I].required&&(E=!0);v.push({label:p[y[w]].name,value:S,type:C})}else b=1==p[y[w]].labels.length?p[y[w]].labels[0]:1<p[y[w]].labels.length?p[y[w]].labels.join("_"):p[y[w]].name,p[y[w]].checked&&V++,p[y[w]].required&&(E=!0),v.push({label:b||p[y[w]].name,value:p[y[w]].value,checked:p[y[w]].checked,type:C});E&&0==V&&_++;break;case"select":b="",S=[],C=p[y[w]].type.toLowerCase();var L=0;if(p[y[w]].hasOwnProperty("options")){for(I=0;I<p[y[w]].options.length;I++)p[y[w]].options[I].selected&&(S.push({label:p[y[w]].options[I].text,value:p[y[w]].options[I].value,selected:p[y[w]].options[I].selected}),p[y[w]].options[I].selected)&&L++;b=1==p[y[w]].labels.length?p[y[w]].labels[0]:1<p[y[w]].labels.length?p[y[w]].labels.join("_"):p[y[w]].name,p[y[w]].required&&0==L&&_++,v.push({label:b||p[y[w]].name,type:C,value:S})}}console.log(_+" erros"),A.setItem("nav_ended_at",x((new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))),A.setItem("conversion_url",window.location.href),A.setItem("user_agent",navigator.userAgent);let e=!0;for(const k of v)0!==k.value.length&&(e=!1);e||(h=Object.assign({content:JSON.stringify(v)},A.data),console.log(h),t=formConfigurationV2.send_url+"/"+t.identification,P.XDomainRequest?(g=new P.XDomainRequest).open("POST",t,!1):((g=new XMLHttpRequest).open("POST",t,!1),g.setRequestHeader("Content-type","application/json"),g.setRequestHeader("Accept","application/json")),g.send(JSON.stringify(h)))}}function i(e){return e.replace("/^(https?:|)///","")}function a(e){return e.split(/[?#]/)[0]}A.init("form_storage");var r=new Date,s=document.referrer,l=document.createElement("a"),c=(l.href=s,window.location.hostname);null===(f=A.getItem("navigation_started_at"))?(A.setItem("navigation_started_at",r),A.setItem("nav_started_at",x(r.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))),A.setItem("start_url",window.location.href),A.setItem("referrer",s)):(f=r-new Date(f),30<parseInt(f/1e3)&&(A.clearStorage(),A.setItem("navigation_started_at",r),A.setItem("nav_started_at",x(r.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))),A.setItem("start_url",window.location.href),A.setItem("referrer",s))),-1!=c.indexOf(l.hostname)&&null!=A.getItem("referrer")||(A.clearStorage(),A.setItem("navigation_started_at",r),A.setItem("nav_started_at",x(r.toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"}))),A.setItem("start_url",window.location.href),A.setItem("referrer",s)),d={},-1!==(f=P.location.href).search(/[?]/)&&1<(f=f.split("?")).length&&f[1].split("&").forEach(function(e){e=e.split("=");d[e[0]]=decodeURIComponent(e[1])});for(var u,d,f,m=d,p=0;p<e.length;p++)m.hasOwnProperty(e[p])&&(u=m[e[p]],A.setItem(e[p],"undefined"!=u?u:""));for(var g=0;g<formConfigurationV2.forms.length;g++){var h=a(i(P.location.href)),v=a(i(formConfigurationV2.forms[g].form_url)),_=(""!=formConfigurationV2.forms[g].form_id&&null!=formConfigurationV2.forms[g].form_id||h.indexOf(v),null);if(null!=formConfigurationV2.forms[g].form_selector)_=o.querySelector(formConfigurationV2.forms[g].form_selector);else if(null!=formConfigurationV2.forms[g].form_id&&null!=formConfigurationV2.forms[g].form_class){h=formConfigurationV2.forms[g].form_class.split(" "),_=document.querySelector("#"+formConfigurationV2.forms[g].form_id+"."+h.join("."));if(null!=formConfigurationV2.forms[g].form_action&&-1==_.action.indexOf(formConfigurationV2.forms[g].form_action)){_=null;continue}}else if(null!=formConfigurationV2.forms[g].form_id){if(_=document.getElementById(formConfigurationV2.forms[g].form_id),null!=formConfigurationV2.forms[g].form_action&&-1==_.action.indexOf(formConfigurationV2.forms[g].form_action)){_=null;continue}}else null!=formConfigurationV2.forms[g].form_action?_=o.querySelectorAll('form[action="'+formConfigurationV2.forms[g].form_action+'"]'):null!=formConfigurationV2.forms[g].form_class&&(_=o.getElementsByClassName(formConfigurationV2.forms[g].form_class));if(null!=_)if(_ instanceof HTMLCollection||_ instanceof NodeList||1==Array.isArray(_))for(var y=0;y<_.length;y++)null!=formConfigurationV2.forms[g].form_action&&-1==_[y].action.indexOf(formConfigurationV2.forms[g].form_action)||(null!=formConfigurationV2.forms[g].button_selector||null!=formConfigurationV2.forms[g].button_id||null!=formConfigurationV2.forms[g].button_class?window.addEventListener?null!=formConfigurationV2.forms[g].button_selector?(_[y].querySelector(formConfigurationV2.forms[g].button_selector).removeEventListener("click",n),_[y].querySelector(formConfigurationV2.forms[g].button_selector),_[y].querySelector(formConfigurationV2.forms[g].button_selector).addEventListener("click",n.bind(_[y],formConfigurationV2.forms[g]),!1)):null!=formConfigurationV2.forms[g].button_id&&(_[y].getElementById(formConfigurationV2.forms[g].button_id).removeEventListener("click",n),_[y].getElementById(formConfigurationV2.forms[g].button_id),_[y].getElementById(formConfigurationV2.forms[g].button_id).addEventListener("click",n.bind(_[y],formConfigurationV2.forms[g]),!1)):window.attachEvent&&(null!=formConfigurationV2.forms[g].button_selector?(_[y].querySelector(formConfigurationV2.forms[g].button_selector).detachEvent("onclick",n),_[y].querySelector(formConfigurationV2.forms[g].button_selector),_[y].querySelector(formConfigurationV2.forms[g].button_selector).attachEvent("onclick",n.bind(_[y],formConfigurationV2.forms[g]),!1)):null!=formConfigurationV2.forms[g].button_id&&(_[y].getElementById(formConfigurationV2.forms[g].button_id).detachEvent("onclick",n),_[y].getElementById(formConfigurationV2.forms[g].button_id),_[y].getElementById(formConfigurationV2.forms[g].button_id).attachEvent("onclick",n.bind(_[y],formConfigurationV2.forms[g]),!1))):window.addEventListener?(_[y].removeEventListener("submit",n),_[y],_[y].addEventListener("submit",n.bind(_[y],formConfigurationV2.forms[g]),!1),console.log("Event Attached")):window.attachEvent&&(_[y].detachEvent("onsubmit",n),_[y],_[y].attachEvent("onsubmit",n.bind(_[y],formConfigurationV2.forms[g]),!1),console.log("Event Attached")));else null!=formConfigurationV2.forms[g].form_action&&-1==_.action.indexOf(formConfigurationV2.forms[g].form_action)||(null!=formConfigurationV2.forms[g].button_selector||null!=formConfigurationV2.forms[g].button_id||null!=formConfigurationV2.forms[g].button_class?window.addEventListener?null!=formConfigurationV2.forms[g].button_selector?(_.querySelector(formConfigurationV2.forms[g].button_selector).removeEventListener("click",n),_.querySelector(formConfigurationV2.forms[g].button_selector),_.querySelector(formConfigurationV2.forms[g].button_selector).addEventListener("click",n.bind(_,formConfigurationV2.forms[g]),!1),console.log("Event Attached")):null!=formConfigurationV2.forms[g].button_id&&(_.getElementById(formConfigurationV2.forms[g].button_id).removeEventListener("click",n),_.getElementById(formConfigurationV2.forms[g].button_id),_.getElementById(formConfigurationV2.forms[g].button_id).addEventListener("click",n.bind(_,formConfigurationV2.forms[g]),!1),console.log("Event Attached")):window.attachEvent&&(null!=formConfigurationV2.forms[g].button_selector?(_.querySelector(formConfigurationV2.forms[g].button_selector).detachEvent("onclick",n),_.querySelector(formConfigurationV2.forms[g].button_selector),_.querySelector(formConfigurationV2.forms[g].button_selector).attachEvent("onclick",n.bind(_,formConfigurationV2.forms[g]),!1),console.log("Event Attached")):null!=formConfigurationV2.forms[g].button_i&&(_.getElementById(formConfigurationV2.forms[g].button_id).detachEvent("onclick",n),_.getElementById(formConfigurationV2.forms[g].button_id),_.getElementById(formConfigurationV2.forms[g].button_id).attachEvent("onclick",n.bind(_,formConfigurationV2.forms[g]),!1),console.log("Event Attached"))):window.addEventListener?(_.removeEventListener("submit",n),_.addEventListener("submit",n.bind(_,formConfigurationV2.forms[g]),!1),console.log("Event Attached")):window.attachEvent&&(_.detachEvent("onsubmit",n),_.attachEvent("onsubmit",n.bind(_,formConfigurationV2.forms[g]),!1),console.log("Event Attached")))}}function removeElementsV2(){null!=wppSettingsV2.remove_button_selector&&""!=wppSettingsV2.remove_button_selector&&(wppSettingsV2.remove_button_selector.includes(";")?wppSettingsV2.remove_button_selector.split(";").forEach(function(e){null!=e&&hideSelectorV2(e.trim())}):hideSelectorV2(wppSettingsV2.remove_button_selector.trim()))}function hideSelectorV2(e){""!=e&&null!=(e=document.querySelector(e))&&e.classList.toggle("hide-element")}function loadConfiguration(e){let o=new XMLHttpRequest;o.open("GET","https://public-api.expad.com.br/v1/config/"+e,!0),o.responseType="json",o.onreadystatechange=function(e){var t,a,r;4===o.readyState&&(200===o.status?(t=camelCaseKeysToUnderscoreV2(o.response),console.log(t),wppSettingsV2=t.whatsapp,a=new MyIframeSDKV2({width:"400px",height:"260px",src:"https://whatsapp-embedded.expad.com.br"}),r=initWhatsappPluginV2(a),a.iframe.addEventListener("load",function(){var e=a.iframe.contentWindow;console.log("iframeWindow",e,wppSettingsV2),e.postMessage(wppSettingsV2,"https://whatsapp-embedded.expad.com.br")}),window.addEventListener("message",e=>{if("object"==typeof e.data)if("new-lead"==e.data.eventType){r.p("WppPlugin","leadSent","Plugin Enviou Lead");let t=e.data;var o=r.v;for(const i of r.queryParams){var n=o.getItem(i);null!=n&&(t.body[i]=n)}t.body.nav_ended_at=r.s((new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})),r.gtag_report_conversion(window.location.href,wppSettingsV2.conversion_id,wppSettingsV2.conversion_label),r.sendPostMessage(t.sendUrl,t.body,function(){var e="https://api.whatsapp.com/send?phone=55"+t.phone.number.replace(/\D/g,"")+"&text="+(t.phone.message||"");window.location.href=encodeURI(e)})}else"close-modal"==e.data.eventType?(a.hide(),r.r()):"resize"==e.data.eventType&&(e=e.data.height,a.iframe.style.height=e.toString()+"px")}),formConfigurationV2=t.form,initFormPluginV2(),removeElementsV2()):console.log("Error",o.statusText))},o.send()}function camelCaseKeysToUnderscoreV2(e){if("object"==typeof e)for(var t in e){var o=t.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()});o!=t&&e.hasOwnProperty(t)&&(e[o]=e[t],delete e[t]),"object"==typeof e[o]&&(e[o]=camelCaseKeysToUnderscoreV2(e[o]))}return e}class MyIframeSDKV2{constructor(e){this.defaults={width:"100%",height:"100%",src:"",container:"body"},this.options=Object.assign({},this.defaults,e);const t=this;this.weOverlay=document.createElement("div"),this.weOverlay.className="we-overlay",this.weOverlay.style.display="none",this.weOverlay.addEventListener("click",function(){t.hide()}),this.weIframeWrapper=document.createElement("div"),this.weIframeWrapper.className="we-iframe-wrapper",this.weIframeWrapper.style.display="none",this.weIframeWrapper.addEventListener("click",function(){t.hide()}),this.iframe=document.createElement("iframe"),this.iframe.src=this.options.src,this.iframe.id="whatsapp-expad",this.iframe.style.width=this.options.width,this.iframe.style.height=this.options.height,this.iframe.style.minHeight=this.options.height,this.iframe.style.maxHeight="80vh",this.iframe.style.border="none",this.iframe.style.borderRadius="20px",this.iframe.style.boxShadow="0px 6px 13px 3px rgba(53, 57, 56, 0.26)",this.weIframeWrapper.appendChild(this.iframe);e=document.querySelector(this.options.container);e.appendChild(this.weIframeWrapper),e.appendChild(this.weOverlay)}show(){document.body.style.overflow="hidden",this.weOverlay.style.display="block",this.weIframeWrapper.style.display="flex",this.iframe.contentWindow.postMessage({eventType:"reset"},"https://whatsapp-embedded.expad.com.br")}hide(){document.body.style.overflow="",this.weOverlay.style.display="none",this.weIframeWrapper.style.display="none"}}